function $(){}function V(t,e){for(const n in e)t[n]=e[n];return t}function T(t){return t()}function A(){return Object.create(null)}function _(t){t.forEach(T)}function L(t){return typeof t=="function"}function mt(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}let k;function yt(t,e){return k||(k=document.createElement("a")),k.href=e,t===k.href}function M(t){return Object.keys(t).length===0}function _t(t,e,n,r){if(t){const u=B(t,e,n,r);return t[0](u)}}function B(t,e,n,r){return t[1]&&r?V(n.ctx.slice(),t[1](r(e))):n.ctx}function vt(t,e,n,r){if(t[2]&&r){const u=t[2](r(n));if(e.dirty===void 0)return u;if(typeof u=="object"){const f=[],c=Math.max(e.dirty.length,u.length);for(let p=0;p<c;p+=1)f[p]=e.dirty[p]|u[p];return f}return e.dirty|u}return e.dirty}function bt(t,e,n,r,u,f){if(u){const c=B(e,n,r,f);t.p(c,u)}}function xt(t){if(t.ctx.length>32){const e=[],n=t.ctx.length/32;for(let r=0;r<n;r++)e[r]=-1;return e}return-1}function kt(t,e){t.appendChild(e)}function wt(t,e,n){t.insertBefore(e,n||null)}function J(t){t.parentNode.removeChild(t)}function St(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function jt(t){return document.createElement(t)}function C(t){return document.createTextNode(t)}function Ft(){return C(" ")}function Et(){return C("")}function Pt(t,e,n,r){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n,r)}function Ot(t){return function(e){e.target===this&&t.call(this,e)}}function $t(t,e,n){n==null?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function K(t){return Array.from(t.childNodes)}function Tt(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function At(t,e,n,r){n===null?t.style.removeProperty(e):t.style.setProperty(e,n,r?"important":"")}let v;function b(t){v=t}function Q(){if(!v)throw new Error("Function called outside component initialization");return v}function Bt(t){Q().$$.on_mount.push(t)}const x=[],N=[],w=[],I=[],X=Promise.resolve();let F=!1;function Y(){F||(F=!0,X.then(D))}function E(t){w.push(t)}const P=new Set;let S=0;function D(){const t=v;do{for(;S<x.length;){const e=x[S];S++,b(e),Z(e.$$)}for(b(null),x.length=0,S=0;N.length;)N.pop()();for(let e=0;e<w.length;e+=1){const n=w[e];P.has(n)||(P.add(n),n())}w.length=0}while(x.length);for(;I.length;)I.pop()();F=!1,P.clear(),b(t)}function Z(t){if(t.fragment!==null){t.update(),_(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(E)}}const j=new Set;let y;function Ct(){y={r:0,c:[],p:y}}function Nt(){y.r||_(y.c),y=y.p}function R(t,e){t&&t.i&&(j.delete(t),t.i(e))}function It(t,e,n,r){if(t&&t.o){if(j.has(t))return;j.add(t),y.c.push(()=>{j.delete(t),r&&(n&&t.d(1),r())}),t.o(e)}}function Dt(t,e){const n={},r={},u={$$scope:1};let f=t.length;for(;f--;){const c=t[f],p=e[f];if(p){for(const s in c)s in p||(r[s]=1);for(const s in p)u[s]||(n[s]=p[s],u[s]=1);t[f]=p}else for(const s in c)u[s]=1}for(const c in r)c in n||(n[c]=void 0);return n}function Wt(t){return typeof t=="object"&&t!==null?t:{}}function zt(t){t&&t.c()}function tt(t,e,n,r){const{fragment:u,on_mount:f,on_destroy:c,after_update:p}=t.$$;u&&u.m(e,n),r||E(()=>{const s=f.map(T).filter(L);c?c.push(...s):_(s),t.$$.on_mount=[]}),p.forEach(E)}function et(t,e){const n=t.$$;n.fragment!==null&&(_(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function nt(t,e){t.$$.dirty[0]===-1&&(x.push(t),Y(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function Gt(t,e,n,r,u,f,c,p=[-1]){const s=v;b(t);const i=t.$$={fragment:null,ctx:null,props:f,update:$,not_equal:u,bound:A(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(s?s.$$.context:[])),callbacks:A(),dirty:p,skip_bound:!1,root:e.target||s.$$.root};c&&c(i.root);let a=!1;if(i.ctx=n?n(t,e.props||{},(o,h,...l)=>{const d=l.length?l[0]:h;return i.ctx&&u(i.ctx[o],i.ctx[o]=d)&&(!i.skip_bound&&i.bound[o]&&i.bound[o](d),a&&nt(t,o)),h}):[],i.update(),a=!0,_(i.before_update),i.fragment=r?r(i.ctx):!1,e.target){if(e.hydrate){const o=K(e.target);i.fragment&&i.fragment.l(o),o.forEach(J)}else i.fragment&&i.fragment.c();e.intro&&R(t.$$.fragment),tt(t,e.target,e.anchor,e.customElement),D()}b(s)}class qt{$destroy(){et(this,1),this.$destroy=$}$on(e,n){const r=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return r.push(n),()=>{const u=r.indexOf(n);u!==-1&&r.splice(u,1)}}$set(e){this.$$set&&!M(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}var O;(function(t){t[t.Unison=1]="Unison",t[t.MinorSecond=1.067]="MinorSecond",t[t.MajorSecond=1.125]="MajorSecond",t[t.MinorThird=1.2]="MinorThird",t[t.MajorThird=1.25]="MajorThird",t[t.PerfectFourth=1.333]="PerfectFourth",t[t.DiminishedFifth=1.4]="DiminishedFifth",t[t.AugmentedFourth=1.414]="AugmentedFourth",t[t.PerfectFifth=1.5]="PerfectFifth",t[t.MinorSixth=1.6]="MinorSixth",t[t.GoldenRatio=1.618]="GoldenRatio",t[t.MajorSixth=1.667]="MajorSixth",t[t.MinorSeventh=1.75]="MinorSeventh",t[t.MajorSeventh=1.875]="MajorSeventh",t[t.Octave=2]="Octave"})(O||(O={}));function Ht(t){return O[t]}function rt(t,e){return Math.pow(t,e)}var ot=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};function it(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var W={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(ot,function(){return function(n){function r(f){if(u[f])return u[f].exports;var c=u[f]={i:f,l:!1,exports:{}};return n[f].call(c.exports,c,c.exports,r),c.l=!0,c.exports}var u={};return r.m=n,r.c=u,r.i=function(f){return f},r.d=function(f,c,p){r.o(f,c)||Object.defineProperty(f,c,{configurable:!1,enumerable:!0,get:p})},r.n=function(f){var c=f&&f.__esModule?function(){return f.default}:function(){return f};return r.d(c,"a",c),c},r.o=function(f,c){return Object.prototype.hasOwnProperty.call(f,c)},r.p="",r(r.s=1)}([function(n,r,u){Object.defineProperty(r,"__esModule",{value:!0});var f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(i){return typeof i}:function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i},c=(r.isArray=function(i){return i&&Array.isArray(i)},r.isString=function(i){return i&&typeof i=="string"}),p=r.isObject=function(i){return i&&(i===void 0?"undefined":f(i))==="object"},s=(r.forEach=function(i,a){if(p(i))for(var o in i)i.hasOwnProperty(o)&&a(o,i[o])},r.set=function(i,a,o){return p(i)&&(i[a]=o),i},r.startsWith=function(i,a){return c(i)&&i.startsWith(a)},r.isNumber=function(i){return!isNaN(i)&&i!=="Infinity"});r.formatResult=function(i){return s(i)?parseFloat(i,10):i},r.unprefixString=function(i,a){return i.startsWith(a)?i.slice(a.length):i},r.prefixString=function(i,a){return i.startsWith(a)?i:""+a+i}},function(n,r,u){function f(a,o,h){return o in a?Object.defineProperty(a,o,{value:h,enumerable:!0,configurable:!0,writable:!0}):a[o]=h,a}function c(a,o){if(!(a instanceof o))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(r,"__esModule",{value:!0});var p=function(){function a(o,h){for(var l=0;l<h.length;l++){var d=h[l];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(o,d.key,d)}}return function(o,h,l){return h&&a(o.prototype,h),l&&a(o,l),o}}(),s=u(0),i=function(){function a(){c(this,a)}return p(a,null,[{key:"get",value:function(o){var h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:a.root;if(h&&a.isValidName(o)){var l=getComputedStyle(h),d=l.getPropertyValue(a.prefix(o)),m=d&&d.trim();return m&&m!==""?(0,s.formatResult)(m):void 0}}},{key:"getAll",value:function(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:a.root;if(o){var h={};return(0,s.forEach)(o.style,function(l,d){if((0,s.startsWith)(d,"--")){var m=d;(0,s.set)(h,a.unprefix(m),a.get(m,o))}}),h}}},{key:"getAllPrefixed",value:function(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:a.root;return a.prefix(a.getAll(o))}},{key:"has",value:function(o){var h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:a.root;return!!a.get(o,h)}},{key:"set",value:function(o){var h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:a.root;if(h){if(!o)return{};var l={};return(0,s.forEach)(o,function(d,m){a.setProperty(d,m,h),(0,s.set)(l,a.unprefix(d),a.get(d,h))}),l}}},{key:"setProperty",value:function(o,h){var l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:a.root;if(l&&a.isValidName(o))return l.style.setProperty(a.prefix(o),h),h}},{key:"unset",value:function(o){var h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:a.root;if(h&&a.isValidName(o)){var l=a.get(o,h);return a.set(f({},o,null),h),l}}},{key:"unsetAll",value:function(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:a.root;if(o){var h=a.getAll(o);return(0,s.forEach)(h,function(l,d){a.unset(l,o)}),h}}},{key:"getElement",value:function(o){return document.querySelector(o)}},{key:"prefix",value:function(o){if((0,s.isString)(o))return(0,s.prefixString)(o,"--");if((0,s.isArray)(o))return o.map(function(l){return(0,s.prefixString)(l,"--")});if((0,s.isObject)(o)){var h={};return(0,s.forEach)(o,function(l,d){(0,s.set)(h,(0,s.prefixString)(l,"--"),d)}),h}}},{key:"unprefix",value:function(o){if((0,s.isString)(o))return(0,s.unprefixString)(o,"--");if((0,s.isArray)(o))return o.map(function(l){return(0,s.unprefixString)(l,"--")});if((0,s.isObject)(o)){var h={};return(0,s.forEach)(o,function(l,d){(0,s.set)(h,(0,s.unprefixString)(l,"--"),d)}),h}}},{key:"isValidName",value:function(o){return(0,s.isString)(o)}},{key:"root",get:function(){return a.getElement(":root")}}]),a}();r.default=i,n.exports=r.default}])})})(W);var Ut=it(W.exports),g;(function(t){t[t.Unison=1]="Unison",t[t.MinorSecond=1.067]="MinorSecond",t[t.MajorSecond=1.125]="MajorSecond",t[t.MinorThird=1.2]="MinorThird",t[t.MajorThird=1.25]="MajorThird",t[t.PerfectFourth=1.333]="PerfectFourth",t[t.DiminishedFifth=1.4]="DiminishedFifth",t[t.AugmentedFourth=1.414]="AugmentedFourth",t[t.PerfectFifth=1.5]="PerfectFifth",t[t.MinorSixth=1.6]="MinorSixth",t[t.GoldenRatio=1.618]="GoldenRatio",t[t.MajorSixth=1.667]="MajorSixth",t[t.MinorSeventh=1.75]="MinorSeventh",t[t.MajorSeventh=1.875]="MajorSeventh",t[t.Octave=2]="Octave"})(g||(g={}));function z(t){return g[t]}function at(t,e){return Math.pow(t,e)}function ut(t,e=16,n){let r=t/e;return r=n&&r<n?n:r,r.toFixed(4)}function G(t,e=16,n){return`${ut(t,e,n)}em`}function ft(t,e){if(typeof t=="string"){if(t.includes("px")){const n=parseFloat(t.replace("px",""));t=G(n,e)}}else t=G(t,e);return t}class st extends EventTarget{constructor(e,n=16){super();this._watchers=[],this._breaks=[],this._active=0,this._finalBreaks=[],this._handler=()=>{for(let r=0;r<this._watchers.length;r++)if(this._watchers[r].matches){this._active=this._breaks[r];break}this._changed()},this.destroy=()=>this._watchers.forEach(r=>r.removeEventListener("change",this._handler)),this._finalBreaks=[...e,99999];for(const r of this._finalBreaks){const f=`(max-width: ${ft(r,n)})`,c=window.matchMedia(f);c.addEventListener("change",this._handler),this._watchers.push(c),this._breaks.push(r)}this._handler()}_changed(){const e=new CustomEvent("change",{detail:{active:this.active}});this.dispatchEvent(e)}get breaks(){return this._breaks.sort((e,n)=>e-n)}get active(){return this._active}}function ct(t,e,n=1){const r=new Set;let u=0;for(let f=-n;f>t-1;f-=n)r.add(t+n*u++);r.add(0),u=1;for(let f=n;f<e+1;f+=n)r.add(n*u++);return Array.from(r)}const ht={baseWidth:1280,ratio:g.PerfectFifth,highBpCount:3,lowBpCount:-3,stepSize:1,baseFont:16},lt=[g.MajorSecond,g.MinorThird,g.MajorThird,g.PerfectFourth,g.DiminishedFifth,g.AugmentedFourth,g.PerfectFifth,g.GoldenRatio];class q extends st{constructor(e={}){const{baseWidth:n,ratio:r,highBpCount:u,lowBpCount:f,stepSize:c,baseFont:p}=Object.assign(Object.assign({},ht),e),i=ct(f,u,c).map(a=>n*at(r,a));super(i);this._baseFont=p,this._breakpointRatioMap=new Map;for(const a of this.breaks)this._breakpointRatioMap.set(a,z(g.Unison))}static createDefaultInstance(){const e=new q;return e.breaks.map((n,r)=>e.setBpInterval(n,z(lt[r]))),e}handleUpdateBaseFont(){document.querySelector("html").style.fontSize=`${this._baseFont/16*100}%`}setBpInterval(e,n){if(!this._breakpointRatioMap.has(e))throw new Error(`Invalid breakpoint: ${e}`);this._breakpointRatioMap.set(e,n)}getBpInterval(e){if(!this._breakpointRatioMap.has(e))throw new Error(`Invalid breakpoint: ${e}`);return this._breakpointRatioMap.get(e)}get breakpointRatioMap(){return new Map(this._breakpointRatioMap)}set breakpointRatioMap(e){if(Object.keys(e).sort().join(",")!==this.breaks.join(","))throw new Error("invalid keys in map");this._breakpointRatioMap=e}shiftBreakpoint(e,n){const r=this.breaks.indexOf(e);if(r===-1)throw new Error("Invalid breakpoint");const u=r+n;return u<0?this.breaks[0]:u>=this.breaks.length?this.breaks[this.breaks.length-1]:this.breaks[u]}}function dt(t,e=16,n){let r=t/e;return r=n&&r<n?n:r,r.toFixed(4)}function H(t,e=16,n){return`${dt(t,e,n)}rem`}function U(t,e,n){if(typeof t=="string"){if(t.includes("px")){const r=parseFloat(t.replace("px",""));t=H(r,e,n)}}else t=H(t,e,n);return t}const pt={baseFont:10,baseBrowserFontSize:16,lineHeightFactor:1.2};function gt(t,e,n=1){return n*rt(t,e)}class Vt{constructor(e={}){const{baseFont:n,baseBrowserFontSize:r,lineHeightFactor:u}=Object.assign(Object.assign({},pt),e);this.baseFont=n,this.baseBrowserFontSize=r,this.lineHeightFactor=u}scaledStyles(e,n,r){const u=gt(e,n,this.baseFont);return{size:U(u,this.baseBrowserFontSize),lineHeight:U(u*this.lineHeightFactor,this.baseBrowserFontSize,r)}}}export{et as A,yt as B,At as C,St as D,Pt as E,Ot as F,Et as G,Ct as H,Nt as I,L as J,Bt as K,q as R,qt as S,$t as a,wt as b,Ft as c,J as d,jt as e,kt as f,Tt as g,Vt as h,Gt as i,Ht as j,U as k,Ut as l,_t as m,$ as n,xt as o,vt as p,R as q,It as r,mt as s,C as t,bt as u,V as v,zt as w,tt as x,Dt as y,Wt as z};
